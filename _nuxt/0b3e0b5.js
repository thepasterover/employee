(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{508:function(t,e,n){"use strict";n.r(e);var o=n(21),r=n(24),c=(n(68),n(4),n(7),{middleware:"auth",components:{addWork:n(234).default},head:function(){return{title:"Work"}},data:function(){return{isChanged:!1,snackbar:!1,snackbarColor:"#73cfa6",month:null,message:null,items:[],headers:[{text:"Date",value:"date",class:"appgrey--text"},{text:"Category",value:"category",class:"appgrey--text"},{text:"Price",value:"price",class:"appgrey--text"},{text:"Quantity",value:"quantity",class:"appgrey--text"},{text:"Total",value:"total",class:"appgrey--text"}]}},created:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("employee/works");case 3:(data=e.sent).forEach((function(e){e.date=t.$moment(e.date).format("Do MMM YYYY")})),t.items=Object(o.a)(data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?(t.message=e.t0.response.data.error,t.snackbarColor="error",t.snackbar=!0):console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},methods:{addToWork:function(t){t.date=this.$moment(t.date).format("Do MMM YYYY"),this.items.push(t)}},computed:{filteredItems:function(){var t=this;return this.month?this.items.filter((function(e){return t.$moment(t.month).format("MMMMYY").toLowerCase()==t.$moment(e.date).format("MMMMYY").toLowerCase()})):this.items}}}),l=n(36),m=n(39),d=n.n(m),v=n(492),f=n(495),h=n(494),k=n(167),_=n(226),y=n(490),w=n(491),x=n(493),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pa-1"},[n("v-row",{staticClass:"pl-4",attrs:{"align-content":"space-between",justify:"space-between"}},[n("v-col",{attrs:{cols:"12",md:"8"}},[n("h3",[t._v("My Works")])]),t._v(" "),n("v-col",{staticClass:"mx-auto"},[n("add-work",{on:{"add-work":t.addToWork}})],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-col",{staticClass:"pl-4 mt-3",attrs:{md:"2",cols:"4"}},[n("v-row",[n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("p",t._g(t._b({staticClass:"appgrey--text"},"p",r,!1),o),[t.month?n("span",[t._v(t._s(t.$moment(t.month).format("MMM 'YY")))]):n("span",[t._v("Filter")]),t._v(" "),n("v-icon",{attrs:{color:"appgrey"}},[t._v("\n            mdi-chevron-down\n            ")])],1)]}}])},[t._v(" "),n("v-date-picker",{attrs:{type:"month",color:"appmainblue",elevation:"0",min:"2021-01"},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),t._v(" "),t.month?n("v-icon",{staticClass:"mb-4 pl-1",attrs:{color:"appgrey",size:"20"},on:{click:function(e){t.month=null}}},[t._v("\n          mdi-close-circle\n        ")]):t._e()],1)],1)],1),t._v(" "),n("v-data-table",{staticClass:"mt-2 pa-2",attrs:{headers:t.headers,items:t.filteredItems,"sort-by":["date"],"sort-desc":[!0]},scopedSlots:t._u([{key:"item.total",fn:function(e){var n=e.item;return[t._v("\n      "+t._s(n.price*n.quantity)+"\n    ")]}}],null,!0)}),t._v(" "),n("v-snackbar",{attrs:{timeout:4e3,color:t.snackbarColor,top:"",elevation:"0",app:""},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.attrs;return[n("v-icon",t._b({attrs:{color:"white",size:"23"},on:{click:function(e){t.snackbar=!1}}},"v-icon",o,!1),[t._v("\n          mdi-close-circle\n      ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.message)+"\n    ")])],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{AddWork:n(234).default}),d()(component,{VCol:v.a,VDataTable:f.a,VDatePicker:h.a,VIcon:k.a,VMenu:_.a,VRow:y.a,VSnackbar:w.a,VSpacer:x.a})}}]);